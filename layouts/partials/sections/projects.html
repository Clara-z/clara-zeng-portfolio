{{ if .Site.Params.projects.enable | default false }}
<section id="projects" class="py-5">
    <div class="container">
        <h3 class="text-center">{{ .Site.Params.projects.title | default "Projects" }}</h3>
        <div class="row justify-content-center px-3 px-md-5">
            {{ range .Site.Params.projects.items }}
            <div class="col-lg-4 col-md-6 my-3">
                {{ $cardLink := "" }}
                {{ if .links }}
                    {{ range first 1 .links }}
                        {{ $cardLink = .url }}
                    {{ end }}
                {{ end }}
                <a href="{{ $cardLink }}" style="text-decoration: none; color: inherit;">
                    <div class="card my-3 h-100" title="{{ .title }}" style="cursor: pointer; transition: transform 0.2s, box-shadow 0.2s;" onmouseover="this.style.transform='translateY(-5px)'; this.style.boxShadow='0 8px 25px rgba(0,0,0,0.15)';" onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='none';">
                        <div class="card-head">
                            <img class="card-img-top" src="{{ .image }}" alt="{{ .title }}">
                        </div>
                        <div class="card-body bg-transparent p-3">
                            <div class="pb-2 bg-transparent">
                                {{ range .badges }}
                                <span class="badge badge-secondary">{{ . }}</span>
                                {{ end }}
                            </div>
                            <h5 class="card-title bg-transparent mt-1">{{ .title }}</h5>
                            <div class="card-text bg-transparent secondary-font">
                                {{ .content }}
                            </div>
                        </div>
                    </div>
                </a>
            </div>
            {{ end }}
            {{ range ( where .Site.RegularPages "Type" "projects" ) }}
            {{ if .Params.showInHome | default true }}
            <div class="col-lg-4 col-md-6 my-3">
                <a href="{{ .RelPermalink }}" style="text-decoration: none; color: inherit;">
                    <div class="card my-3 h-100" title="{{ .Title }}" style="cursor: pointer; transition: transform 0.2s, box-shadow 0.2s;" onmouseover="this.style.transform='translateY(-5px)'; this.style.boxShadow='0 8px 25px rgba(0,0,0,0.15)';" onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='none';">
                        <div class="card-head">
                            <img class="card-img-top" src="{{ .Params.image }}" alt="{{ .Title }}">
                        </div>
                        <div class="card-body bg-transparent p-3">
                            <div class="pb-2 bg-transparent">
                                {{ range .Params.badges }}
                                <span class="badge badge-secondary">{{ . }}</span>
                                {{ end }}
                            </div>
                            <h5 class="card-title bg-transparent">{{ .Title | truncate 50 }}</h5>
                            <div class="card-text bg-transparent secondary-font">
                                {{ .Summary | truncate 100 | safeHTML }}
                            </div>
                        </div>
                    </div>
                </a>
            </div>
            {{ end }}
            {{ end }}
        </div>
    </div>
</section>
{{ end }}